<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=1.5, user-scalable=yes">
  <title>工作室日常动态</title>
  <link rel="shortcut icon" href="favicon.ico"/>
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" >
  <link rel="stylesheet" href="css/normalize.css"/>
  <link rel="stylesheet" href="css/common.css"/>

  <script src="js/jquery.js"></script>
  <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="page-header title">
       <h1>不洗碗工作室日常新闻</h1>
    </div>


    <div class="list-group app">
          <a href="#" class="list-group-item active">
            Cras justo odio
          </a>
          <a href="#" class="list-group-item">Dapibus ac facilisis in</a>
          <a href="#" class="list-group-item">Morbi leo risus</a>
          <a href="#" class="list-group-item">Porta ac consectetur ac</a>
          <a href="#" class="list-group-item">Vestibulum at eros</a>


      <nav aria-label="Page navigation" class="footer">
			  <ul class="pagination">
				<li>
				  <a href="#" aria-label="Previous">
					<span aria-hidden="true">&laquo;</span>
				  </a>
				</li>
				<li><a class="pageN" href="#">1</a></li>
				<li><a class="pageN" href="#">2</a></li>
				<li><a class="pageN" href="#">3</a></li>
				<li><a class="pageN" href="#">4</a></li>
				<li><a class="pageN" href="#">5</a></li>
				<li>
				  <a href="#" aria-label="Next">
					<span aria-hidden="true">&raquo;</span>
				  </a>
				</li>
			  </ul>
			</nav>

      <!--<input class="goBack btn btn-default" type="button" value="返回主页"-->
             <!--onclick="window.location.href='index.html'">-->
    </div>

    <script>
       $(function(){
         var strContent = encodeURI($(".list-group-item").val())
         var strNumber = encodeURI($(".list-group-item").size)
         var page = window.localStorage.getItem('page') || 1
         var pageA = $(".pageN")
//         console.log(pageA)
         for(var i=0;i<pageA.length;i++){
           (function (i) {
             pageA.eq(i).click(function(){
//              console.log(i)
              window.localStorage.setItem("page",$(this).val())
              $(this).addClass("active")
            })
           })(i)
         }

         $.ajax({
           type:"GET",
           url:"http://hrsoft.net/posts?page="+page+"&size=6",
           dataType: "json",
           data:{ posts: strContent , count: strNumber},
           success: function(json){
             var strTitle = '';
             var strID = '';
             var aTitle = $('.list-group-item');
//             function retHTML(){
//               var str = '<a href="#" class="list-group-item">Dapibus ac facilisis in</a>';
//               return str;
//             }
               console.log(strTitle);
             for(var i=0;i < json.data.posts.length;i++){
               (function (i) {
                 console.log(json.data.posts[i]);
                 strTitle = json.data.posts[i].title;
                 strID = json.data.posts[i].id;

//                 $('.app').append(retHTML);
                 aTitle.eq(i).attr("id",strID).text(strTitle);
//                 $('.list-group-item').attr("href", '#' + strID);
                 strTitle = ''
                 strID = ''
               })(i)
             }
           }
         })
       });
    </script>
</body>
</html>